<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Modern CSS Color Functions Test</title>
    <link rel="stylesheet" href="../shared/test-template.css">
    <script src="../../../dist/html2canvas.js?v=20251030-1600"></script>
    <style>
        .color-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .color-box {
            height: 100px;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .color-label {
            background: rgba(255,255,255,0.9);
            padding: 4px 8px;
            border-radius: 4px;
            margin-top: 5px;
            color: #333;
        }

        .section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .section h3 {
            margin-top: 0;
            color: #495057;
        }

        /* OKLCH Colors */
        .oklch-1 { background-color: oklch(0.21 0.034 264.665); }
        .oklch-2 { background-color: oklch(0.5 0.15 250); }
        .oklch-3 { background-color: oklch(0.6 0.2 30); }
        .oklch-4 { background-color: oklch(0.65 0.18 145); }
        .oklch-5 { background-color: oklch(0.75 0.12 90); }
        .oklch-6 { background-color: oklch(0.45 0.25 300); }

        /* OKLAB Colors */
        .oklab-1 { background-color: oklab(0.5 0.1 -0.1); }
        .oklab-2 { background-color: oklab(0.7 0.08 0.12); }
        .oklab-3 { background-color: oklab(0.6 -0.1 -0.08); }
        .oklab-4 { background-color: oklab(0.4 0.15 -0.15); }
        .oklab-5 { background-color: oklab(0.8 -0.05 0.1); }

        /* LCH Colors */
        .lch-1 { background-color: lch(50 50 180); }
        .lch-2 { background-color: lch(80 60 30); }
        .lch-3 { background-color: lch(40 80 280); }
        .lch-4 { background-color: lch(70 90 120); }
        .lch-5 { background-color: lch(60 70 0); }

        /* LAB Colors */
        .lab-1 { background-color: lab(50 40 -20); }
        .lab-2 { background-color: lab(80 20 60); }
        .lab-3 { background-color: lab(30 40 -40); }
        .lab-4 { background-color: lab(60 -30 30); }
        .lab-5 { background-color: lab(70 50 -10); }

        /* HWB Colors */
        .hwb-1 { background-color: hwb(194 0% 0%); }
        .hwb-2 { background-color: hwb(0 0% 0%); }
        .hwb-3 { background-color: hwb(120 20% 20%); }
        .hwb-4 { background-color: hwb(60 10% 10%); }
        .hwb-5 { background-color: hwb(300 15% 15%); }
        .hwb-6 { background-color: hwb(0 50% 50%); }

        /* color() Function with Different Spaces */
        .color-srgb { background-color: color(srgb 1 0 0); }
        .color-linear { background-color: color(srgb-linear 0.5 0.5 0.5); }
        .color-p3 { background-color: color(display-p3 1 0.5 0); }
        .color-percent { background-color: color(srgb 100% 50% 0%); }
        .color-a98 { background-color: color(a98-rgb 0 1 0); }
        .color-rec2020 { background-color: color(rec2020 0 0 1); }

        /* Comparison with Legacy */
        .legacy-rgb { background-color: rgb(255, 0, 0); }
        .legacy-hsl { background-color: hsl(120, 100%, 50%); }

        /* Mixed Usage */
        .gradient-modern {
            background: linear-gradient(135deg,
                oklch(0.5 0.15 250),
                hwb(120 20% 20%),
                color(display-p3 1 0 0));
        }

        .border-modern {
            background-color: lab(90 -10 10);
            border: 4px solid lch(40 80 280);
            color: oklch(0.21 0.034 264.665);
        }
    </style>
</head>
<body>
    <header>
        <h1>All Modern CSS Color Functions</h1>
        <p>Comprehensive test of OKLCH, OKLAB, LCH, LAB, HWB, and color() functions</p>
        <div style="background: #fff3cd; padding: 10px; margin: 10px 0; border: 1px solid #856404; border-radius: 4px;">
            <strong>Supported Color Functions:</strong>
            <ul style="margin: 5px 0;">
                <li><strong>oklch()</strong> - Perceptually uniform cylindrical (Oklab-based)</li>
                <li><strong>oklab()</strong> - Perceptually uniform rectangular</li>
                <li><strong>lch()</strong> - CIE LCH cylindrical (LAB-based)</li>
                <li><strong>lab()</strong> - CIE LAB rectangular</li>
                <li><strong>hwb()</strong> - Hue, Whiteness, Blackness</li>
                <li><strong>color()</strong> - Generic colorspace (srgb, display-p3, etc.)</li>
            </ul>
        </div>
    </header>

    <div class="controls">
        <button id="capture-btn" class="btn-primary">Capture Canvas</button>
        <div class="status-group">
            <span id="status" class="status"></span>
            <span id="timing" class="timing"></span>
        </div>
    </div>

    <div class="split-view">
        <div class="view-panel">
            <div class="panel-header">HTML Version</div>
            <div class="panel-content" id="html-samples">

                <div class="section">
                    <h3>OKLCH Colors (Perceptually Uniform)</h3>
                    <div class="color-grid">
                        <div class="color-box oklch-1">
                            <div class="color-label">oklch(0.21 0.034 264.665)</div>
                        </div>
                        <div class="color-box oklch-2">
                            <div class="color-label">oklch(0.5 0.15 250)</div>
                        </div>
                        <div class="color-box oklch-3">
                            <div class="color-label">oklch(0.6 0.2 30)</div>
                        </div>
                        <div class="color-box oklch-4">
                            <div class="color-label">oklch(0.65 0.18 145)</div>
                        </div>
                        <div class="color-box oklch-5">
                            <div class="color-label">oklch(0.75 0.12 90)</div>
                        </div>
                        <div class="color-box oklch-6">
                            <div class="color-label">oklch(0.45 0.25 300)</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>OKLAB Colors (Rectangular Coordinates)</h3>
                    <div class="color-grid">
                        <div class="color-box oklab-1">
                            <div class="color-label">oklab(0.5 0.1 -0.1)</div>
                        </div>
                        <div class="color-box oklab-2">
                            <div class="color-label">oklab(0.7 0.08 0.12)</div>
                        </div>
                        <div class="color-box oklab-3">
                            <div class="color-label">oklab(0.6 -0.1 -0.08)</div>
                        </div>
                        <div class="color-box oklab-4">
                            <div class="color-label">oklab(0.4 0.15 -0.15)</div>
                        </div>
                        <div class="color-box oklab-5">
                            <div class="color-label">oklab(0.8 -0.05 0.1)</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>LCH Colors (CIE LCH)</h3>
                    <div class="color-grid">
                        <div class="color-box lch-1">
                            <div class="color-label">lch(50 50 180)</div>
                        </div>
                        <div class="color-box lch-2">
                            <div class="color-label">lch(80 60 30)</div>
                        </div>
                        <div class="color-box lch-3">
                            <div class="color-label">lch(40 80 280)</div>
                        </div>
                        <div class="color-box lch-4">
                            <div class="color-label">lch(70 90 120)</div>
                        </div>
                        <div class="color-box lch-5">
                            <div class="color-label">lch(60 70 0)</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>LAB Colors (CIE LAB)</h3>
                    <div class="color-grid">
                        <div class="color-box lab-1">
                            <div class="color-label">lab(50 40 -20)</div>
                        </div>
                        <div class="color-box lab-2">
                            <div class="color-label">lab(80 20 60)</div>
                        </div>
                        <div class="color-box lab-3">
                            <div class="color-label">lab(30 40 -40)</div>
                        </div>
                        <div class="color-box lab-4">
                            <div class="color-label">lab(60 -30 30)</div>
                        </div>
                        <div class="color-box lab-5">
                            <div class="color-label">lab(70 50 -10)</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>HWB Colors (Hue, Whiteness, Blackness)</h3>
                    <div class="color-grid">
                        <div class="color-box hwb-1">
                            <div class="color-label">hwb(194 0% 0%)</div>
                        </div>
                        <div class="color-box hwb-2">
                            <div class="color-label">hwb(0 0% 0%)</div>
                        </div>
                        <div class="color-box hwb-3">
                            <div class="color-label">hwb(120 20% 20%)</div>
                        </div>
                        <div class="color-box hwb-4">
                            <div class="color-label">hwb(60 10% 10%)</div>
                        </div>
                        <div class="color-box hwb-5">
                            <div class="color-label">hwb(300 15% 15%)</div>
                        </div>
                        <div class="color-box hwb-6">
                            <div class="color-label">hwb(0 50% 50%)</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>color() Function (Multiple Color Spaces)</h3>
                    <div class="color-grid">
                        <div class="color-box color-srgb">
                            <div class="color-label">color(srgb 1 0 0)</div>
                        </div>
                        <div class="color-box color-linear">
                            <div class="color-label">color(srgb-linear 0.5 0.5 0.5)</div>
                        </div>
                        <div class="color-box color-p3">
                            <div class="color-label">color(display-p3 1 0.5 0)</div>
                        </div>
                        <div class="color-box color-percent">
                            <div class="color-label">color(srgb 100% 50% 0%)</div>
                        </div>
                        <div class="color-box color-a98">
                            <div class="color-label">color(a98-rgb 0 1 0)</div>
                        </div>
                        <div class="color-box color-rec2020">
                            <div class="color-label">color(rec2020 0 0 1)</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>Mixed Usage Examples</h3>
                    <div class="color-grid">
                        <div class="color-box gradient-modern">
                            <div class="color-label">Gradient with OKLCH, HWB, P3</div>
                        </div>
                        <div class="color-box border-modern">
                            <div class="color-label">LAB + LCH Border + OKLCH Text</div>
                        </div>
                        <div class="color-box legacy-rgb">
                            <div class="color-label">Legacy: rgb(255, 0, 0)</div>
                        </div>
                        <div class="color-box legacy-hsl">
                            <div class="color-label">Legacy: hsl(120, 100%, 50%)</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="view-panel">
            <div class="panel-header">Canvas Version</div>
            <div class="panel-content" id="canvas-output">
                <div class="placeholder">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <circle cx="8.5" cy="8.5" r="1.5"></circle>
                        <polyline points="21 15 16 10 5 21"></polyline>
                    </svg>
                    <p>Click "Capture Canvas" to render</p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>html2canvas Visual Testing Suite - All Modern Color Functions</p>
        <a href="../index.html">← Back to Index</a>
    </footer>

    <script src="../shared/test-runner.js"></script>
</body>
</html>
