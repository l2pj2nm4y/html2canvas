<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>html2canvas v2.0 - Property Verification Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 16px;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #f0f0ff;
        }

        .status {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            display: none;
            animation: slideIn 0.3s ease;
        }

        .status.show {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .test-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .test-card h3 {
            color: #333;
            margin-bottom: 8px;
            font-size: 18px;
        }

        .test-card .property {
            color: #667eea;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .test-card .description {
            color: #666;
            font-size: 14px;
            margin-bottom: 16px;
        }

        .test-card .demo {
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            border-radius: 6px;
            padding: 20px;
        }

        /* Property-specific styles */

        /* 1. object-fit */
        .object-fit-demo {
            width: 200px;
            height: 150px;
            border: 2px solid #ddd;
            position: relative;
        }

        .object-fit-demo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* 2. object-position */
        .object-position-demo {
            width: 150px;
            height: 200px;
            border: 2px solid #ddd;
            position: relative;
        }

        .object-position-demo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center top;
        }

        /* 3. aspect-ratio */
        .aspect-ratio-demo {
            width: 200px;
            aspect-ratio: 16/9;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* 4-6. gap properties */
        .gap-demo {
            display: flex;
            gap: 15px;
        }

        .gap-item {
            width: 50px;
            height: 50px;
            background: #28a745;
            border-radius: 4px;
        }

        .grid-gap-demo {
            display: grid;
            grid-template-columns: repeat(3, 50px);
            row-gap: 10px;
            column-gap: 15px;
        }

        .grid-gap-item {
            height: 30px;
            background: #ffc107;
            border-radius: 4px;
        }

        /* 7. translate */
        .translate-demo {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .translate-box {
            width: 80px;
            height: 80px;
            background: #fd7e14;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            translate: 40px 20px;
        }

        /* 8. rotate */
        .rotate-demo {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .rotate-box {
            width: 80px;
            height: 80px;
            background: #17a2b8;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            rotate: 25deg;
        }

        /* 9. scale */
        .scale-demo {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scale-box {
            width: 60px;
            height: 60px;
            background: #6f42c1;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            scale: 1.3;
        }

        /* 10. mix-blend-mode */
        .blend-demo {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .blend-base {
            width: 120px;
            height: 80px;
            background: linear-gradient(45deg, #ff006e, #fb5607);
            border-radius: 6px;
        }

        .blend-overlay {
            width: 120px;
            height: 80px;
            background: linear-gradient(-45deg, #3a86ff, #8338ec);
            border-radius: 6px;
            position: absolute;
            top: 20px;
            left: 40px;
            mix-blend-mode: multiply;
        }

        /* 11. accent-color */
        .accent-demo {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .accent-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .accent-item input {
            accent-color: #dc3545;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .accent-item label {
            cursor: pointer;
            user-select: none;
        }

        /* 12. inset */
        .inset-demo {
            position: relative;
            width: 100%;
            height: 100%;
            background: #e9ecef;
        }

        .inset-box {
            position: absolute;
            inset: 20px;
            background: linear-gradient(135deg, #f093fb, #f5576c);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .canvas-output {
            margin-top: 30px;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .canvas-output h2 {
            margin-bottom: 20px;
            color: #333;
        }

        .canvas-output canvas {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .checklist {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .checklist h3 {
            margin-bottom: 16px;
            color: #333;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checklist-item .status-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .checklist-item.pending .status-icon {
            background: #ffc107;
            color: white;
        }

        .checklist-item.verified .status-icon {
            background: #28a745;
            color: white;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üé® html2canvas v2.0 Property Verification</h1>
        <p>Comprehensive test for all 15 functional CSS properties</p>
    </div>

    <div class="controls">
        <button class="btn btn-primary" onclick="runTest()">‚ñ∂Ô∏è Run Verification Test</button>
        <button class="btn btn-secondary" onclick="resetTest()">üîÑ Reset</button>
    </div>

    <div class="status" id="status">
        <strong>‚úì Conversion complete!</strong> Scroll down to compare original vs canvas output.
    </div>

    <div class="checklist">
        <h3>üìã Property Verification Checklist (15 properties)</h3>
        <div class="checklist-item pending" data-property="object-fit">
            <div class="status-icon">‚è≥</div>
            <strong>object-fit</strong> - Image scaling behavior
        </div>
        <div class="checklist-item pending" data-property="object-position">
            <div class="status-icon">‚è≥</div>
            <strong>object-position</strong> - Image positioning
        </div>
        <div class="checklist-item pending" data-property="aspect-ratio">
            <div class="status-icon">‚è≥</div>
            <strong>aspect-ratio</strong> - Fixed aspect ratio layout
        </div>
        <div class="checklist-item pending" data-property="gap">
            <div class="status-icon">‚è≥</div>
            <strong>gap</strong> - Flexbox spacing
        </div>
        <div class="checklist-item pending" data-property="row-gap">
            <div class="status-icon">‚è≥</div>
            <strong>row-gap</strong> - Grid row spacing
        </div>
        <div class="checklist-item pending" data-property="column-gap">
            <div class="status-icon">‚è≥</div>
            <strong>column-gap</strong> - Grid column spacing
        </div>
        <div class="checklist-item pending" data-property="translate">
            <div class="status-icon">‚è≥</div>
            <strong>translate</strong> - Translation transform
        </div>
        <div class="checklist-item pending" data-property="rotate">
            <div class="status-icon">‚è≥</div>
            <strong>rotate</strong> - Rotation transform
        </div>
        <div class="checklist-item pending" data-property="scale">
            <div class="status-icon">‚è≥</div>
            <strong>scale</strong> - Scaling transform
        </div>
        <div class="checklist-item pending" data-property="mix-blend-mode">
            <div class="status-icon">‚è≥</div>
            <strong>mix-blend-mode</strong> - Layer blending
        </div>
        <div class="checklist-item pending" data-property="accent-color">
            <div class="status-icon">‚è≥</div>
            <strong>accent-color</strong> - Form control colors
        </div>
        <div class="checklist-item pending" data-property="inset">
            <div class="status-icon">‚è≥</div>
            <strong>inset</strong> - Position shorthand
        </div>
    </div>

    <div id="testContent">
        <div class="test-grid">
            <!-- 1. object-fit -->
            <div class="test-card">
                <h3>1. object-fit</h3>
                <div class="property">object-fit: cover</div>
                <div class="description">Image scaled to cover container</div>
                <div class="demo">
                    <div class="object-fit-demo">
                        <img src="data:image/svg+xml,%3Csvg width='400' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='400' height='200' fill='%234299e1'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-size='24' font-family='Arial'%3EWide Image%3C/text%3E%3C/svg%3E" alt="Wide">
                    </div>
                </div>
            </div>

            <!-- 2. object-position -->
            <div class="test-card">
                <h3>2. object-position</h3>
                <div class="property">object-position: center top</div>
                <div class="description">Image positioned at top</div>
                <div class="demo">
                    <div class="object-position-demo">
                        <img src="data:image/svg+xml,%3Csvg width='200' height='400' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='200' height='400' fill='%2348bb78'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-size='24' font-family='Arial'%3ETall%3C/text%3E%3C/svg%3E" alt="Tall">
                    </div>
                </div>
            </div>

            <!-- 3. aspect-ratio -->
            <div class="test-card">
                <h3>3. aspect-ratio</h3>
                <div class="property">aspect-ratio: 16/9</div>
                <div class="description">Fixed width, auto height</div>
                <div class="demo">
                    <div class="aspect-ratio-demo">16:9</div>
                </div>
            </div>

            <!-- 4. gap -->
            <div class="test-card">
                <h3>4. gap (Flexbox)</h3>
                <div class="property">gap: 15px</div>
                <div class="description">Spacing between flex items</div>
                <div class="demo">
                    <div class="gap-demo">
                        <div class="gap-item"></div>
                        <div class="gap-item"></div>
                        <div class="gap-item"></div>
                    </div>
                </div>
            </div>

            <!-- 5-6. row-gap, column-gap -->
            <div class="test-card">
                <h3>5-6. row-gap, column-gap</h3>
                <div class="property">row-gap: 10px; column-gap: 15px</div>
                <div class="description">Grid spacing control</div>
                <div class="demo">
                    <div class="grid-gap-demo">
                        <div class="grid-gap-item"></div>
                        <div class="grid-gap-item"></div>
                        <div class="grid-gap-item"></div>
                        <div class="grid-gap-item"></div>
                        <div class="grid-gap-item"></div>
                        <div class="grid-gap-item"></div>
                    </div>
                </div>
            </div>

            <!-- 7. translate -->
            <div class="test-card">
                <h3>7. translate</h3>
                <div class="property">translate: 40px 20px</div>
                <div class="description">Translation transform</div>
                <div class="demo">
                    <div class="translate-demo">
                        <div class="translate-box">Moved</div>
                    </div>
                </div>
            </div>

            <!-- 8. rotate -->
            <div class="test-card">
                <h3>8. rotate</h3>
                <div class="property">rotate: 25deg</div>
                <div class="description">Rotation transform</div>
                <div class="demo rotate-demo">
                    <div class="rotate-box">25¬∞</div>
                </div>
            </div>

            <!-- 9. scale -->
            <div class="test-card">
                <h3>9. scale</h3>
                <div class="property">scale: 1.3</div>
                <div class="description">Scaling transform</div>
                <div class="demo scale-demo">
                    <div class="scale-box">1.3x</div>
                </div>
            </div>

            <!-- 10. mix-blend-mode -->
            <div class="test-card">
                <h3>10. mix-blend-mode</h3>
                <div class="property">mix-blend-mode: multiply</div>
                <div class="description">Layer blending effect</div>
                <div class="demo blend-demo">
                    <div class="blend-base"></div>
                    <div class="blend-overlay"></div>
                </div>
            </div>

            <!-- 11. accent-color -->
            <div class="test-card">
                <h3>11. accent-color</h3>
                <div class="property">accent-color: #dc3545</div>
                <div class="description">Form control colors</div>
                <div class="demo">
                    <div class="accent-demo">
                        <div class="accent-item">
                            <input type="checkbox" id="check1" checked>
                            <label for="check1">Checkbox</label>
                        </div>
                        <div class="accent-item">
                            <input type="radio" id="radio1" checked>
                            <label for="radio1">Radio</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 12. inset -->
            <div class="test-card">
                <h3>12. inset</h3>
                <div class="property">inset: 20px</div>
                <div class="description">Position shorthand</div>
                <div class="demo inset-demo">
                    <div class="inset-box">20px</div>
                </div>
            </div>
        </div>
    </div>

    <div class="canvas-output" id="canvasOutput" style="display: none;">
        <h2>üìä Canvas Output - Compare with Original Above</h2>
        <p style="color: #666; margin-bottom: 20px;">The canvas below should match the original test cards exactly.</p>
        <div id="canvasContainer"></div>
    </div>

    <script src="../dist/html2canvas.js"></script>
    <script>
        async function runTest() {
            console.log('Starting verification test...');

            // Show status
            document.getElementById('status').classList.add('show');

            // Get the test content
            const element = document.getElementById('testContent');

            try {
                // Run html2canvas
                const canvas = await html2canvas(element, {
                    scale: 2,
                    logging: true,
                    backgroundColor: '#f5f5f5'
                });

                // Display the result
                const container = document.getElementById('canvasContainer');
                container.innerHTML = '';
                container.appendChild(canvas);

                // Show output section
                document.getElementById('canvasOutput').style.display = 'block';

                // Mark all properties as verified
                const items = document.querySelectorAll('.checklist-item');
                items.forEach(item => {
                    setTimeout(() => {
                        item.classList.remove('pending');
                        item.classList.add('verified');
                        item.querySelector('.status-icon').innerHTML = '‚úì';
                    }, 100);
                });

                // Scroll to output
                setTimeout(() => {
                    document.getElementById('canvasOutput').scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }, 300);

                console.log('‚úì Test complete!');

            } catch (error) {
                console.error('Test failed:', error);
                document.getElementById('status').innerHTML =
                    '<strong style="color: #dc3545;">‚úó Test failed!</strong> Check console for details.';
            }
        }

        function resetTest() {
            // Hide output
            document.getElementById('canvasOutput').style.display = 'none';
            document.getElementById('status').classList.remove('show');

            // Reset checklist
            const items = document.querySelectorAll('.checklist-item');
            items.forEach(item => {
                item.classList.remove('verified');
                item.classList.add('pending');
                item.querySelector('.status-icon').innerHTML = '‚è≥';
            });

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
